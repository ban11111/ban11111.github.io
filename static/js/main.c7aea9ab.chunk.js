(this.webpackJsonpwc=this.webpackJsonpwc||[]).push([[0],{100:function(e,t,a){},109:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(11),i=a.n(c),s=(a(99),a(100),a(24)),l=a(42),u=a(45),m=a(44),p=a(28),d=a(78),f=a(58),h=new function e(){Object(s.a)(this,e)},b=a(182),g=(a(109),a(32)),v=a.n(g),E=a(49),w=a(74),y=a(61),x=a.n(y),j=function(){var e=Object(E.a)(v.a.mark((function e(t,a){var n,r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:r=e.sent,o=r.data,n={success:!!a||o.success,info:o.msg,data:a?o:o.data},e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(0),c=e.t0.response.data,403!==e.t0.response.status){e.next=14;break}return setTimeout((function(){sessionStorage.clear(),window.location.replace("/login")}),2e3),e.abrupt("return",{info:"Your login information is invalid, please login again!",success:!1});case 14:n={success:c.success,info:c.err_msg,data:c};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function e(t){var a=this;Object(s.a)(this,e),this.request=void 0,this.down=void 0,this.download=Object(E.a)(v.a.mark((function e(){var t,n,r,o=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,j((function(){return a.request.post(t,n,{responseType:"blob"})}),"down");case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),this.post=Object(E.a)(v.a.mark((function e(){var t,n,r,o=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1?o[1]:void 0,e.next=4,j((function(){return a.request.post(t,n)}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),this.uploadAudio=function(e){return a.post("/api/upload",e)},this.request=t.http,this.down=t.down},O=(n=function(){var e={baseURL:"",headers:{"Content-Type":"application/json",Token:sessionStorage.getItem("token")}};return{http:x.a.create(e),down:x.a.create(Object(w.a)({},e,{responseType:"blob"}))}}(),new k(n)),S=a(54),C=a.n(S),N=(a(110),a(111),a(112),a(172)),T=a(53),D=a(175),F=a(173),W=a(177),I=a(174),q=a(178),A=Object(N.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:T.a[500],"&:hover":{backgroundColor:T.a[700]}},fabProgress:{color:T.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:T.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).rec=C()({type:"mp3",bitRate:128,sampleRate:16e3,disableEnvInFix:!1,onProcess:function(e,t,a,r){n.wave.input(e[e.length-1],t,r)}}),n.renderVisualization=function(){return o.a.createElement(D.a,{style:{height:"50px"},className:"wave-box"})},n.uploadFile=function(e){var t=new FormData;t.append("record",e),O.uploadAudio(t).then((function(e){console.log("resp",e)}))},n.uploadFile2=function(e,t){var a=new FormData;a.append("record",e,t+".mp3"),O.uploadAudio(a).then((function(e){console.log("resp",e)}))},n.recStart=function(e){if(e||(e=function(e){e&&console.log(e,1)}),n.rec&&C.a.IsOpen()){n.rec.start();var t=n.rec.set;console.log("\u5f55\u5236\u4e2d\uff1a"+t.type+" "+t.sampleRate+"hz "+t.bitRate+"kbps")}else e("\u672a\u6253\u5f00\u5f55\u97f3")},n.mouseDown=function(){n.setState({status:"recording"}),n.recStart(),document.onmouseup=n.touchUp},n.touchUp=function(){n.setState({status:"stopped"},(function(){document.onmouseup=null})),n.recStop()},n.touchDown=function(){n.setState({status:"recording"}),n.recStart()},n.playAndStop=function(){n.refs.audio.play()},n.state={rec:null,status:"init",src:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setTimeout((function(){console.log("\u65e0\u6cd5\u5f55\u97f3\uff1a\u6743\u9650\u8bf7\u6c42\u88ab\u5ffd\u7565\uff08\u8d85\u65f6\u5047\u88c5\u624b\u52a8\u70b9\u51fb\u4e86\u786e\u8ba4\u5bf9\u8bdd\u6846\uff09",1)}),8e3);console.log("\u6b63\u5728\u6253\u5f00\u5f55\u97f3\uff0c\u8bf7\u6c42\u9ea6\u514b\u98ce\u6743\u9650..."),this.rec.open((function(){clearTimeout(t),console.log("\u5df2\u6253\u5f00\u5f55\u97f3\uff0c\u53ef\u4ee5\u70b9\u51fb\u5f00\u59cb\u4e86",2),e.wave=C.a.WaveView({elem:".wave-box"})}),(function(e,a){clearTimeout(t),console.log((a?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+e,1)}))}},{key:"recStop",value:function(){var e=this;this.rec.stop((function(t,a){e.uploadFile2(t,a),e.setState({src:window.URL.createObjectURL(t)},(function(){console.log("src",e.state.src)}))}),(function(e){console.log("\u5f55\u97f3\u5931\u8d25:"+e,1)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.src,r="recording"===a;return o.a.createElement(F.a,{maxWidth:"sm"},o.a.createElement("div",null,o.a.createElement(W.a,{type:"primary",onClick:function(){return e.recStart()}},"New Start"),o.a.createElement(W.a,{type:"primary",onClick:function(){return e.recStop()}},"New Stop")),o.a.createElement(I.a,{container:!0,spacing:2,className:A.wrapper,alignItems:"center"},o.a.createElement(I.a,{item:!0,xs:2},o.a.createElement(q.a,{variant:"extended",onMouseDown:this.mouseDown,onTouchStart:this.touchDown,onTouchEnd:this.touchUp,size:"medium",color:r?"default":"primary"},r?"\u677e\u5f00\u7ed3\u675f":"\u6309\u4f4f\u5f55\u97f3")),o.a.createElement(I.a,{item:!0,xs:7},this.renderVisualization()),o.a.createElement(I.a,{item:!0,xs:3},o.a.createElement(W.a,{color:"secondary",variant:"contained",onClick:this.playAndStop},"Play")),o.a.createElement("audio",{controls:!0,ref:"audio",src:n,style:{display:"block"}})),o.a.createElement(W.a,{onClick:function(){e.props.history.push("/admin/login")}},"Login"))}}]),a}(r.Component),U=a(184),L=a(168),z=a(179),P=a(176),V=a(181),Y=a(171),J=a(180),M=a(79),B=a.n(M),H=a(81),_=a(183);function G(){return o.a.createElement(H.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(Y.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var K=Object(N.a)((function(e){return Object(_.a)({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})}));function Q(e){var t=K();return o.a.createElement(F.a,{component:"main",maxWidth:"xs"},o.a.createElement(L.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(U.a,{className:t.avatar},o.a.createElement(B.a,null)),o.a.createElement(H.a,{component:"h1",variant:"h5"},"Sign up"),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(I.a,{container:!0,spacing:2},o.a.createElement(I.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),o.a.createElement(I.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(z.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(z.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(P.a,{control:o.a.createElement(V.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),o.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){console.log("hook props",e.props),e.props.history.push("/demo")}},"Sign Up"),o.a.createElement(I.a,{container:!0,justify:"flex-end"},o.a.createElement(I.a,{item:!0},o.a.createElement(Y.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),o.a.createElement(J.a,{mt:5},o.a.createElement(G,null)))}var X=Object(r.lazy)((function(){return Promise.all([a.e(2),a.e(4)]).then(a.bind(null,434))})),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.d,null,o.a.createElement(b.a,{exact:!0,from:"/",to:"/info"}),o.a.createElement(b.b,{path:"/info"},o.a.createElement(Q,{props:this.props})),o.a.createElement(b.b,{path:"/demo",component:R}),o.a.createElement(b.a,{exact:!0,from:"/admin",to:"/admin/login"}),o.a.createElement(b.b,{path:"/admin/login",component:X}),o.a.createElement(b.b,{path:"/admin/dashboard",component:X})," "))}}]),a}(o.a.Component),$=Object(p.a)(),ee=new f.RouterStore,te=Object(f.syncHistoryWithStore)($,ee),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,"Loading...")},o.a.createElement(L.a,null),o.a.createElement(d.a,h,o.a.createElement(b.c,{history:te},o.a.createElement(b.b,{component:Z}))))}}]),a}(o.a.Component);i.a.render(o.a.createElement(ae,null),document.getElementById("root"))},94:function(e,t,a){e.exports=a(131)},99:function(e,t,a){}},[[94,1,3]]]);
//# sourceMappingURL=main.c7aea9ab.chunk.js.map