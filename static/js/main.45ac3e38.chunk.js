(this.webpackJsonpwc=this.webpackJsonpwc||[]).push([[0],{105:function(e,t,a){e.exports=a(142)},110:function(e,t,a){},111:function(e,t,a){},120:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),i=a(11),l=a.n(i),c=(a(110),a(111),a(26)),s=a(46),u=a(48),m=a(47),p=a(29),d=a(85),f=a(65),h=new function e(){Object(c.a)(this,e)},b=a(201),v=(a(120),a(35)),E=a.n(v),g=a(53),w=a(81),x=a(68),y=a.n(x),k=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n,o,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:o=e.sent,r=o.data,n={success:!!a||r.success,info:r.msg,data:a?r:r.data},e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(0),i=e.t0.response.data,403!==e.t0.response.status){e.next=14;break}return setTimeout((function(){sessionStorage.clear(),window.location.replace("/login")}),2e3),e.abrupt("return",{info:"Your login information is invalid, please login again!",success:!1});case 14:n={success:i.success,info:i.err_msg,data:i};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function e(t){var a=this;Object(c.a)(this,e),this.request=void 0,this.down=void 0,this.download=Object(g.a)(E.a.mark((function e(){var t,n,o,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,k((function(){return a.request.post(t,n,{responseType:"blob"})}),"down");case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),this.post=Object(g.a)(E.a.mark((function e(){var t,n,o,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,e.next=4,k((function(){return a.request.post(t,n)}));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),this.uploadAudio=function(e){return a.post("/api/upload",e)},this.request=t.http,this.down=t.down},j=(n=function(){var e={baseURL:"",headers:{"Content-Type":"application/json",Token:sessionStorage.getItem("token")}};return{http:y.a.create(e),down:y.a.create(Object(w.a)({},e,{responseType:"blob"}))}}(),new C(n)),O=a(60),S=a.n(O),R=(a(121),a(122),a(123),a(185)),I=a(87),N=a(4),W=a(194),F=a(59),T=a(190),A=a(200),z=a(206),q=a(186),D=a(187),L=a(193),U=a(192),P=a(205),B=a(197),V=a(207),Y=a(195),J=a(196),M=Object(R.a)((function(e){return{root:{display:"flex",alignItems:"center"},word:{fontSize:"x-large",fontFamily:"monospace",fontWeight:"bold"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:F.a[500],"&:hover":{backgroundColor:F.a[700]}},fabProgress:{color:F.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:F.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),G=Object(I.a)(T.a)({fontSize:"xxx-large",fontFamily:"cursive",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}),H=Object(N.a)({root:{marginTop:15,"& input:valid + fieldset":{borderColor:"green",borderWidth:2},"& input:invalid + fieldset":{borderColor:"lightBlue",borderWidth:2},"& input:valid:focus + fieldset":{borderLeftWidth:6,padding:"4px !important"}}})(A.a),_=Object(I.a)(z.a)({root:{maxWidth:400,flexGrow:1}}),K={bitRate:128,sampleRate:16e3},Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).rec=S()({type:"mp3",bitRate:K.bitRate,sampleRate:K.sampleRate,disableEnvInFix:!1,onProcess:function(e,t,a,o){n.wave.input(e[e.length-1],t,o)}}),n.renderVisualization=function(){return r.a.createElement("div",{style:{height:"50px"},className:"wave-box"})},n.timeoutFn=setTimeout((function(){console.log("\u65e0\u6cd5\u5f55\u97f3\uff1a\u6743\u9650\u8bf7\u6c42\u88ab\u5ffd\u7565\uff08\u8d85\u65f6\u5047\u88c5\u624b\u52a8\u70b9\u51fb\u4e86\u786e\u8ba4\u5bf9\u8bdd\u6846\uff09",1)}),1e4),n.uploadFile=function(e,t){var a=new FormData;a.append("record",e,t+".mp3"),j.uploadAudio(a).then((function(e){console.log("resp",e)}))},n.recStart=function(){n.rec=S()({type:"mp3",bitRate:n.state.audioConf.bitRate,sampleRate:n.state.audioConf.sampleRate,disableEnvInFix:!1,onProcess:function(e,t,a,o){n.wave.input(e[e.length-1],t,o)}}),n.rec.open((function(){clearTimeout(n.timeoutFn),n.rec.start();var e=n.rec.set;console.log("\u5f55\u5236\u4e2d\uff1a"+e.type+" "+e.sampleRate+"hz "+e.bitRate+"kbps")}),(function(e,t){clearTimeout(n.timeoutFn),console.log((t?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+e,1)}))},n.mouseDown=function(){n.setState({status:"recording"}),n.recStart(),document.onmouseup=n.touchUp},n.touchUp=function(){n.setState({status:"stopped"},(function(){document.onmouseup=null})),n.recStop()},n.touchDown=function(){n.setState({status:"recording"}),n.recStart()},n.playAndStop=function(){n.refs.audio.play()},n.onClickNext=function(){n.setState({wordIndex:n.state.wordIndex+1})},n.onClickBack=function(){n.setState({wordIndex:n.state.wordIndex-1})},n.updateAudioConf=function(e,t){n.setState({audioConf:{sampleRate:e,bitRate:t}})},n.state={rec:null,status:"init",src:"",audioConf:K,wordIndex:0,words:["\u8981\u8bfb\u7684\u5b57","\u5b572","\u5b573","\u540e\u9762\u4f1a\u5728","\u7ba1\u7406\u9875\u9762\u5f00\u653e\u914d\u7f6e"]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("\u6b63\u5728\u6253\u5f00\u5f55\u97f3\uff0c\u8bf7\u6c42\u9ea6\u514b\u98ce\u6743\u9650..."),this.rec.open((function(){clearTimeout(e.timeoutFn),console.log("\u5df2\u6253\u5f00\u5f55\u97f3\uff0c\u53ef\u4ee5\u70b9\u51fb\u5f00\u59cb\u4e86",2),e.wave=S.a.WaveView({elem:".wave-box"}),e.rec.close()}),(function(t,a){clearTimeout(e.timeoutFn),console.log((a?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+t,1)}))}},{key:"recStop",value:function(){var e=this;this.rec.stop((function(t,a){e.rec.close(),e.uploadFile(t,a),e.setState({src:window.URL.createObjectURL(t)},(function(){console.log("src",e.state.src)}))}),(function(t){console.log("\u5f55\u97f3\u5931\u8d25:"+t,1),e.rec.close()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.src,o=t.words,i=t.wordIndex,l=t.audioConf,c=o[i],s="recording"===a;return r.a.createElement(q.a,{maxWidth:"sm"},r.a.createElement("div",null,r.a.createElement(G,null,c)),r.a.createElement(D.a,{container:!0,spacing:2,className:M.wrapper,alignItems:"center"},r.a.createElement(D.a,{item:!0,xs:2},r.a.createElement(L.a,{className:"nocopy",variant:"extended",onMouseDown:this.mouseDown,onTouchStart:this.touchDown,onTouchEnd:this.touchUp,size:"medium",color:s?"default":"primary"},s?"\u677e\u5f00\n\u7ed3\u675f":"\u6309\u4f4f\n\u5f55\u97f3")),r.a.createElement(D.a,{item:!0,xs:7},this.renderVisualization()),r.a.createElement(D.a,{item:!0,xs:3},r.a.createElement(U.a,{color:"secondary",variant:"contained",onClick:this.playAndStop},"Play")),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement("audio",{controls:!0,ref:"audio",src:n})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(H,{label:"Input translation here",required:!0,fullWidth:!0,variant:"outlined",id:"validation-outlined-input"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(_,{variant:"progress",steps:o.length,position:"static",activeStep:i,nextButton:r.a.createElement(U.a,{size:"small",onClick:this.onClickNext,disabled:i+1>=o.length},"Next","rtl"===W.a.direction?r.a.createElement(Y.a,null):r.a.createElement(J.a,null)),backButton:r.a.createElement(U.a,{size:"small",onClick:this.onClickBack,disabled:0===i},"rtl"===W.a.direction?r.a.createElement(J.a,null):r.a.createElement(Y.a,null),"Back")})),r.a.createElement(D.a,{item:!0,xs:6},r.a.createElement(P.a,null,"\u91c7\u6837\u7387"),r.a.createElement(B.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l.sampleRate,onChange:function(t){e.updateAudioConf(t.target.value,l.bitRate)}},r.a.createElement(V.a,{value:8e3},"8000"),r.a.createElement(V.a,{value:11025},"11025"),r.a.createElement(V.a,{value:16e3},"16000"),r.a.createElement(V.a,{value:22050},"22050"),r.a.createElement(V.a,{value:24e3},"24000"),r.a.createElement(V.a,{value:44100},"44100"),r.a.createElement(V.a,{value:48e3},"44100"),r.a.createElement(V.a,{value:5e4},"50000"),r.a.createElement(V.a,{value:96e3},"96000"))),r.a.createElement(D.a,{item:!0,xs:6},r.a.createElement(A.a,{label:"\u6bd4\u7279\u7387",type:"number",InputLabelProps:{shrink:!0},variant:"filled",value:l.bitRate,onChange:function(t){e.updateAudioConf(l.sampleRate,t.target.value)}}))))}}]),a}(o.Component),X=a(203),Z=a(181),$=a(191),ee=a(199),te=a(184),ae=a(198),ne=a(86),oe=a.n(ne),re=a(90),ie=a(202);function le(){return r.a.createElement(re.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var ce=Object(R.a)((function(e){return Object(ie.a)({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})}));function se(e){var t=ce();return r.a.createElement(q.a,{component:"main",maxWidth:"xs"},r.a.createElement(Z.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(X.a,{className:t.avatar},r.a.createElement(oe.a,null)),r.a.createElement(re.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(D.a,{container:!0,spacing:2},r.a.createElement(D.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(D.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(A.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement($.a,{control:r.a.createElement(ee.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){console.log("hook props",e),e.props.history.push("/demo")}},"Sign Up"),r.a.createElement(D.a,{container:!0,justify:"flex-end"},r.a.createElement(D.a,{item:!0},r.a.createElement(te.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(U.a,{onClick:function(){e.props.history.push("/admin/login")}},"\u4e34\u65f6\u8f6c\u5230 \u7ba1\u7406\u5458Login \u9875\u9762"),r.a.createElement(ae.a,{mt:5},r.a.createElement(le,null)))}var ue=Object(o.lazy)((function(){return Promise.all([a.e(2),a.e(4)]).then(a.bind(null,456))})),me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,null,r.a.createElement(b.a,{exact:!0,from:"/",to:"/info"}),r.a.createElement(b.b,{path:"/info"},r.a.createElement(se,{props:this.props})),r.a.createElement(b.b,{path:"/demo",component:Q}),r.a.createElement(b.a,{exact:!0,from:"/admin",to:"/admin/login"}),r.a.createElement(b.b,{path:"/admin/login",component:ue}),r.a.createElement(b.b,{path:"/admin/dashboard",component:ue})," "))}}]),a}(r.a.Component),pe=Object(p.a)(),de=new f.RouterStore,fe=Object(f.syncHistoryWithStore)(pe,de),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(o.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(Z.a,null),r.a.createElement(d.a,h,r.a.createElement(b.c,{history:fe},r.a.createElement(b.b,{component:me}))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(he,null),document.getElementById("root"))}},[[105,1,3]]]);
//# sourceMappingURL=main.45ac3e38.chunk.js.map