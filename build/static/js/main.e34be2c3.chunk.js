(this.webpackJsonpwc=this.webpackJsonpwc||[]).push([[0],{26:function(e,t,a){"use strict";var n,r=a(91),o=a.n(r),i=a(148),l=a(61),c=a(62),s=a(265),u=a.n(s),d=function(){var e={baseURL:"",headers:{"Content-Type":"application/json",Token:sessionStorage.getItem("token")}};return{http:u.a.create(e),down:u.a.create(Object(c.a)({},e,{responseType:"blob"}))}},m=function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:r=e.sent,i=r.data,n={success:!!a||i.success,info:i.info,data:a?i:i.data},e.next=17;break;case 8:if(e.prev=8,e.t0=e.catch(0),l=e.t0.response.data,403!==e.t0.response.status){e.next=14;break}return setTimeout((function(){sessionStorage.clear(),window.location.replace("/admin/login")}),2e3),e.abrupt("return",{info:"Your login information is invalid, please login again!",success:!1});case 14:if(400!==e.t0.response.status){e.next=16;break}return e.abrupt("return",{success:l.success,info:l.info,data:l});case 16:n={success:l.success,info:e.t0.response.status+" "+e.t0.response.statusText,data:l};case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function e(t){var a=this;Object(l.a)(this,e),this.request=void 0,this.down=void 0,this.download=Object(i.a)(o.a.mark((function e(){var t,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,m((function(){return a.down.post(t,n)}),"down");case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.post=Object(i.a)(o.a.mark((function e(){var t,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,e.next=4,m((function(){return a.request.post(t,n)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.refreshRequest=function(){a.changeRequest(d())},this.changeRequest=function(e){a.request=e.http,a.down=e.down},this.signUp=function(e){return a.post("/api/v1/sign_up",e)},this.signIn=function(e){return a.post("/api/v1/sign_in",e)},this.getBasicInfo=function(e){return a.post("/api/v1/get_basic_info",e)},this.uploadAudio=function(e){return a.post("/api/v1/upload",e)},this.adminLogin=function(e,t){a.post("/api/v1/admin/login",e).then((function(e){t(e),a.refreshRequest()}))},this.queryPapers=function(){return a.post("/api/v1/admin/query_papers")},this.addPaper=function(e){return a.post("/api/v1/admin/add_paper",e)},this.publishPaper=function(e){return a.post("/api/v1/admin/publish_paper",e)},this.editPaper=function(e){return a.post("/api/v1/admin/edit_paper",e)},this.QueryUsers=function(){return a.post("/api/v1/admin/query_users")},this.deleteUser=function(e){return a.post("/api/v1/admin/delete_user",e)},this.QueryAnswers=function(e){return a.post("/api/v1/admin/query_answers",e)},this.deleteAnswers=function(e){return a.post("/api/v1/admin/clear_answers",e)},this.querySettings=function(){return a.post("/api/v1/admin/query_settings")},this.updateSetting=function(e){return a.post("/api/v1/admin/update_setting",e)},this.request=t.http,this.down=t.down};t.a=(n=d(),new p(n))},457:function(e,t,a){e.exports=a(772)},462:function(e,t,a){},463:function(e,t,a){},495:function(e,t,a){},772:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=(a(462),a(463),a(61)),c=a(116),s=a(128),u=a(127),d=a(48),m=a(401),p=a(262),f=new function e(){Object(l.a)(this,e)},h=a(66),g=a(19),b=a(775),E=a(412),v=a(465),y=a(492),x=a(470),O=a(491),j=a(773),w=a(349),C=a.n(w),k=a(76),S=a(845),R=a(853),N=a(489),_=a(26),I=a(16),T=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))};function P(){return r.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var W=Object(S.a)((function(e){return Object(R.a)({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.light},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})}));function B(e){var t=W(),a=Object(n.useState)({email:"",name:"",chinese_class:"",hks_level:"",ethnic_background:""}),o=Object(g.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!1),s=Object(g.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(g.a)(m,2),f=p[0],h=p[1],x=function(e){return function(t){var a,n=i;n[e]=t.currentTarget.value,l(n),"email"===e&&d((a=t.currentTarget.value,!/^([a-z0-9_.-]+)@([\da-z.]+)\.([a-z.]{2,6})$/.test(a)))}};return r.a.createElement(N.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(b.a,{className:t.avatar},r.a.createElement(C.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},"Chinese Character Reading Test"),r.a.createElement(j.a,{className:t.form},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{error:u,helperText:u?"Invalid Email Address":null,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:x("email")},i.email)),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",autoComplete:"name",onChange:x("name")},i.name)),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"chineseClass",label:"Chinese Class",name:"chineseClass",onChange:x("chinese_class")},i.chinese_class)),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"hksLevel",label:"HSK Level",name:"hksLevel",onChange:x("hks_level")},i.hks_level)),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"ethnicBackground",label:" Ethnic Background (Kinh/Hoa/...)",name:"ethnicBackground",onChange:x("ethnic_background")},i.ethnic_background)))),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:f?function(){u?I.b.error("incorrect email address"):_.a.signUp(i).then((function(t){t.success?(T("user_info",t.data.user),e.history.push("/instruction")):I.b.error("\ud83d\ude80 "+t.info)}))}:function(){u?I.b.error("incorrect email address"):_.a.signIn({email:i.email}).then((function(t){t.success?t.data.user_not_exist?h(!0):(I.b.info("\ud83e\udd84 welcome "+t.data.user.name),T("user_info",t.data.user),e.history.push("/instruction")):I.b.error("\ud83d\ude80 "+t.info)}))}},f?"sign up":"sign in"))),r.a.createElement(j.a,{mt:5},r.a.createElement(P,null)))}var A=a(193),D=(a(495),a(101)),L=a.n(D),U=(a(496),a(497),a(498),a(446)),z=a(6),F=a(123),q=a(122),M=a(120),Y=a(413),H=a(92),K=a(499),V=a(501),J=a(500),Q=a(269),G=a(502),$=a(420),X=a.n($),Z=a(419),ee=a.n(Z),te=a(418),ae=a.n(te),ne=a(74),re=a.n(ne),oe=a(851),ie=a(414),le=Object(U.a)(H.a)({fontSize:"xxx-large",fontFamily:"cursive",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}),ce=Object(z.a)({root:{marginTop:15,"& input:valid + fieldset":{borderColor:"green",borderWidth:2},"& input:invalid + fieldset":{borderColor:"lightBlue",borderWidth:2},"& input:valid:focus + fieldset":{borderLeftWidth:6,padding:"4px !important"}}})(y.a),se=Object(U.a)(K.a)({root:{maxWidth:400,flexGrow:1}}),ue={bitRate:128,sampleRate:16e3},de=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).renderVisualization=function(){return r.a.createElement("div",{style:{height:"50px"},className:"wave-box"})},o.getBasicInfo=function(){_.a.getBasicInfo({uid:o.userInfo.id}).then((function(e){if(e.success){var t=e.data.current_paper.words.split(RegExp("[ \t\n]+"));if(e.data.progress_index>=t.length-1)return I.b.info("you've already finished current test, please wait util the next test released, if there's any issue, please contact your teacher"),void o.props.history.push("/finish");o.setState({audioConf:{bitRate:e.data.global_setting.BitRate,sampleRate:e.data.global_setting.SampleRate},wordIndex:e.data.progress_index+1,words:t,paper_info:{paper_name:e.data.current_paper.name,paper_version:e.data.current_paper.version,paper_id:e.data.current_paper.id,interval:e.data.current_paper.interval},begin:!0,reRenderTimer:!0},(function(){o.setState({reRenderTimer:!1}),Object(ie.a)(o.recordButtonRef.current),o.wave=L.a.WaveView({elem:".wave-box"})})),o.beginTime=re()()}else I.b.error(e.info)}))},o.uploadFile=function(e,t,a){var n=new FormData;e&&n.append("record",e,t+".mp3"),n.append("file_ext","mp3"),n.append("paper_name",o.state.paper_info.paper_name),n.append("paper_version",o.state.paper_info.paper_version),n.append("paper_id",o.state.paper_info.paper_id+""),n.append("uid",o.userInfo.id),n.append("word_index",o.state.wordIndex),n.append("word",o.state.words[o.state.wordIndex]),n.append("translation",o.state.input),n.append("duration",t),n.append("device",A.isTablet?"tablet":A.isMobile?"mobile":A.isDesktop?"desktop":"unknown"),_.a.uploadAudio(n).then((function(e){e.success?a():I.b.error(e.info+" -- if you can't go to next word, try refresh the page")}))},o.recStart=function(){o.rec=L()({type:"mp3",bitRate:o.state.audioConf.bitRate,sampleRate:o.state.audioConf.sampleRate,disableEnvInFix:!1,onProcess:function(e,t,a,n){o.wave.input(e[e.length-1],t,n)}}),o.rec.open((function(){o.rec.start();var e=o.rec.set;console.log("\u5f55\u5236\u4e2d\uff1a"+e.type+" "+e.sampleRate+"hz "+e.bitRate+"kbps")}),(function(e,t){console.log((t?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+e,1)}))},o.onClickStart=function(){o.recorded=!0,o.setState({status:"recording"}),o.recStart()},o.onClickStop=function(){o.recStop(),o.state.warningPopUp?o.uploadLoop(1e3*o.state.paper_info.interval):o.translationRef.current.lastChild.firstChild.focus(),o.setState({status:"stopped",warningPopUp:!1})},o.mouseDown=function(){o.recorded=!0,o.setState({status:"recording"}),o.recStart(),document.onmouseup=o.mouseUp},o.mouseUp=function(){document.onmouseup=null,o.recStop(),o.state.warningPopUp?o.uploadLoop(1e3*o.state.paper_info.interval):o.translationRef.current.lastChild.firstChild.focus(),o.setState({status:"stopped",warningPopUp:!1})},o.touchUp=function(){o.recStop(),o.state.warningPopUp?o.uploadLoop(1e3*o.state.paper_info.interval):o.translationRef.current.lastChild.firstChild.focus(),o.setState({status:"stopped",warningPopUp:!1})},o.touchDown=function(){o.recorded=!0,o.setState({status:"recording"}),o.recStart()},o.playAndStop=function(){o.audioPlayRef.current.play()},o.timesUpTouchUp=function(e){return function(){document.onmouseup=null,o.uploadLoop(e),o.setState({status:"stopped",warningPopUp:!1})}},o.onNext=function(e){return function(){var t=e?1e3*o.state.paper_info.interval:re()().diff(o.beginTime,"milliseconds");e&&"recording"===o.state.status?(document.onmouseup=o.timesUpTouchUp(t),o.setState({warningPopUp:!0}),o.recStop()):o.uploadLoop(t)}},o.uploadLoop=function(e){o.setState({uploadingLock:!0});var t=setInterval((function(){o.recorded&&!o.audioBlob||(clearInterval(t),o.recorded=!1,o.uploadFile(o.audioBlob,e,(function(){window.URL.revokeObjectURL(o.state.src),o.state.wordIndex>=o.state.words.length-1?o.props.history.push("/finish"):(o.audioBlob=null,o.setState({wordIndex:o.state.wordIndex+1,reRenderTimer:!0,src:"",input:"",uploadingLock:!1,buttonDisabled:!0},(function(){o.beginTime=re()(),o.setState({reRenderTimer:!1})})),setTimeout((function(){o.setState({buttonDisabled:!1})}),999))})))}),250)},o.renderCountDown=function(e){return r.a.createElement(Y.CountdownCircleTimer,{isPlaying:!o.state.uploadingLock,duration:o.state.paper_info.interval,size:60,strokeWidth:8,colors:[[F.a.A200,.33],[q.a[300],.33],[M.a[500],.34]],onComplete:function(t){console.log(t,e,"on complete"),o.onNext(!0)()}},(function(e){var t=e.remainingTime;return 1===t&&setTimeout((function(){o.setState({buttonDisabled:!0})}),888),r.a.createElement("div",{style:{fontSize:"xx-large"}},t)}))},o.renderWarningPopUp=function(){return r.a.createElement(J.a,{open:o.state.warningPopUp,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(oe.a,{severity:"warning"},"Sorry, time's up! Release button to enter the next word..."))},o.state={begin:!1,status:"init",src:"",input:"",audioConf:ue,wordIndex:0,reRenderTimer:!1,words:[" "],warningPopUp:!1,uploadingLock:!1,buttonDisabled:!1,paper_info:{paper_name:"",paper_version:"",paper_id:0,interval:10}},o.recorded=!1,o.audioBlob=null,o.translationRef=Object(n.createRef)(),o.audioPlayRef=Object(n.createRef)(),o.recordButtonRef=Object(n.createRef)(),o.rec=L()({type:"mp3",bitRate:ue.bitRate,sampleRate:ue.sampleRate,disableEnvInFix:!1,onProcess:function(e,t,a,n){o.wave.input(e[e.length-1],t,n)}}),o.userInfo=function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null}("user_info"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!=this.userInfo?(this.getBasicInfo(),this.rec.open((function(){e.wave=L.a.WaveView({elem:".wave-box"}),e.rec.close()}),(function(e,t){t?I.b.error("please allow the mic permission, refresh or restart the browser"):I.b.error("your device or web browser do not support audio recording, msg:"+e)}))):this.props.history.push("/info")}},{key:"recStop",value:function(){var e=this;this.rec.stop((function(t,a){e.rec.close(),console.log("audio duration: ",a),e.audioBlob=t,e.setState({src:window.URL.createObjectURL(t)})}),(function(t){console.log("\u5f55\u97f3\u5931\u8d25:"+t,1),e.rec.close()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.begin,n=t.status,o=t.src,i=t.words,l=t.wordIndex,c=t.reRenderTimer,s=t.uploadingLock,u=t.buttonDisabled,d=i[l],m="recording"===n;return r.a.createElement(N.a,{maxWidth:"sm",className:"exam-page"},r.a.createElement(se,{variant:"progress",steps:i.length,position:"static",activeStep:l}),r.a.createElement(Q.a,{open:!a||s,style:{zIndex:1201}},r.a.createElement(G.a,{color:"inherit",size:150,thickness:2})),this.renderWarningPopUp(),r.a.createElement(O.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(O.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"}},!c&&this.renderCountDown(l)),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement(le,null,d))),r.a.createElement(O.a,{item:!0,xs:10},this.renderVisualization()),r.a.createElement(O.a,{item:!0,xs:2},r.a.createElement(V.a,{color:"primary",variant:"outlined",onClick:this.playAndStop,disabled:m,style:{float:"right"}},r.a.createElement(ae.a,{style:{fontSize:50}}))),r.a.createElement("audio",{ref:this.audioPlayRef,src:o}),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(ce,{ref:this.translationRef,label:"Input translation here",required:!0,fullWidth:!0,autoComplete:"off",variant:"outlined",id:"validation-outlined-input",value:this.state.input,onChange:function(t){e.setState({input:t.currentTarget.value})}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginTop:15,float:"right"},onClick:this.onNext(),disabled:u||m},"NEXT")),r.a.createElement(O.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"}},r.a.createElement(V.a,{variant:"round",ref:this.recordButtonRef,className:"nocopy",onClick:m?this.onClickStop:this.onClickStart,size:"medium",color:m?"default":"primary",style:{position:"absolute",bottom:50,border:"thick solid"}},m?r.a.createElement(ee.a,{style:{fontSize:80}}):r.a.createElement(X.a,{style:{fontSize:80}})))))}}]),a}(n.Component),me=function(){return r.a.createElement(N.a,null,r.a.createElement(k.a,{component:"h1",variant:"h1"},"The End, Thank you !"))},pe=a(124),fe=a(84),he=a(507),ge=a(410),be=a(774),Ee=a(508),ve=a(846),ye=a(847),xe=a(848),Oe=a(849),je=a(34),we=a(3),Ce=a(426),ke=Object(S.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),Se=function(e){var t=e.className,a=e.href,n=e.icon,o=e.title,i=Object(je.a)(e,["className","href","icon","title"]),l=ke();return r.a.createElement(Ce.a,Object.assign({className:Object(we.a)(l.item,t),disableGutters:!0},i),r.a.createElement(E.a,{activeClassName:l.active,className:l.button,component:fe.b,to:a},n&&r.a.createElement(n,{className:l.icon,size:"20"}),r.a.createElement("span",{className:l.title},o)))},Re="/static/images/avatars/avatar_6.png",Ne="yep, that's me",_e="The Admin",Ie=[{href:"/admin/dashboard",icon:ve.a,title:"Dashboard"},{href:"/admin/users",icon:ye.a,title:"Users"},{href:"/admin/papers",icon:xe.a,title:"Papers"},{href:"/admin/settings",icon:Oe.a,title:"Settings"}],Te=Object(S.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),Pe=function(e){var t=e.onMobileClose,a=e.openMobile,o=Te(),i=Object(h.g)();Object(n.useEffect)((function(){a&&t&&t()}),[i.pathname]);var l=r.a.createElement(j.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(j.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},r.a.createElement(b.a,{className:o.avatar,component:fe.a,src:Re,to:"/admin/dashboard"}),r.a.createElement(k.a,{className:o.name,color:"textPrimary",variant:"h5"},_e),r.a.createElement(k.a,{color:"textSecondary",variant:"body2"},Ne)),r.a.createElement(he.a,null),r.a.createElement(j.a,{p:2},r.a.createElement(ge.a,null,Ie.map((function(e){return r.a.createElement(Se,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))),r.a.createElement(j.a,{flexGrow:1}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{lgUp:!0},r.a.createElement(Ee.a,{anchor:"left",classes:{paper:o.mobileDrawer},onClose:t,open:a,variant:"temporary"},l)),r.a.createElement(be.a,{mdDown:!0},r.a.createElement(Ee.a,{anchor:"left",classes:{paper:o.desktopDrawer},open:!0,variant:"persistent"},l)))};Pe.defaultProps={onMobileClose:function(){},openMobile:!1};var We=Pe,Be=a(503),Ae=a(504),De=a(505),Le=a(425),Ue=a.n(Le),ze=a(423),Fe=a.n(ze),qe=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/logo.svg"},e))},Me=Object(S.a)((function(){return{root:{},avatar:{width:60,height:60}}})),Ye=function(e){var t=e.className,a=e.onMobileNavOpen,n=e.history,o=Object(je.a)(e,["className","onMobileNavOpen","history"]),i=Me();return r.a.createElement(Be.a,Object.assign({className:Object(we.a)(i.root,t),elevation:0},o),r.a.createElement(Ae.a,null,r.a.createElement(fe.a,{to:"/"},r.a.createElement(qe,null)),r.a.createElement(j.a,{flexGrow:1}),r.a.createElement(De.a,{title:"Logout","aria-label":"logout"},r.a.createElement(V.a,{color:"inherit",onClick:function(){sessionStorage.removeItem("token"),n.push("/admin/login")}},r.a.createElement(Fe.a,null))),r.a.createElement(be.a,{lgUp:!0},r.a.createElement(V.a,{color:"inherit",onClick:a},r.a.createElement(Ue.a,null)))))},He=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(pe.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Ke=function(e){var t=He(),a=Object(n.useState)(!1),o=Object(g.a)(a,2),i=o[0],l=o[1];return r.a.createElement("div",{className:t.root},r.a.createElement(Ye,{onMobileNavOpen:function(){return l(!0)},history:e.history}),r.a.createElement(We,{onMobileClose:function(){return l(!1)},openMobile:i}),r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.contentContainer},r.a.createElement("div",{className:t.content},r.a.createElement(e.components,e)))))},Ve=a(428),Je=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,o=void 0===n?"":n,i=Object(je.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},i),r.a.createElement(Ve.a,null,r.a.createElement("title",null,o)),a)})),Qe=a(188),Ge=a(30),$e=a(17),Xe=a(509),Ze=a(604),et=a(510),tt=a(435),at=a.n(tt),nt=a(436),rt=a.n(nt),ot=Object(S.a)((function(){return{root:{}}})),it=function(e){var t=ot(),a=Object(Ge.a)(),n={datasets:[{backgroundColor:$e.a.indigo[500],data:[18,5,19,27,29,19,20],label:"This year"},{backgroundColor:$e.a.grey[200],data:[11,20,12,29,30,25,13],label:"Last year"}],labels:["1 Aug","2 Aug","3 Aug","4 Aug","5 Aug","6 Aug"]},o={animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return r.a.createElement(Xe.a,{className:t.root},r.a.createElement(Ze.a,{action:r.a.createElement(E.a,{endIcon:r.a.createElement(at.a,null),size:"small",variant:"text"},"Last 7 days"),title:"Latest Sales"}),r.a.createElement(he.a,null),r.a.createElement(et.a,null,r.a.createElement(j.a,{height:400,position:"relative"},r.a.createElement(Qe.Bar,{data:n,options:o}))),r.a.createElement(he.a,null),r.a.createElement(j.a,{display:"flex",justifyContent:"flex-end",p:2},r.a.createElement(E.a,{color:"primary",endIcon:r.a.createElement(rt.a,null),size:"small",variant:"text",onClick:function(){e.history.push("/admin/papers")}},"Overview")))},lt=a(415),ct=a(433),st=a.n(ct),ut=Object(S.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:$e.a.orange[600],height:56,width:56}}})),dt=function(e){var t=e.className,a=Object(je.a)(e,["className"]),n=ut();return r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(n.root,t)},a),r.a.createElement(et.a,null,r.a.createElement(O.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement(O.a,{item:!0},r.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TASKS PROGRESS"),r.a.createElement(k.a,{color:"textPrimary",variant:"h3"},"75.5%")),r.a.createElement(O.a,{item:!0},r.a.createElement(b.a,{className:n.avatar},r.a.createElement(st.a,null)))),r.a.createElement(j.a,{mt:3},r.a.createElement(lt.a,{value:75.5,variant:"determinate"}))))},mt=a(432),pt=a.n(mt),ft=a(431),ht=a.n(ft),gt=Object(S.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:$e.a.green[600],height:56,width:56},differenceIcon:{color:$e.a.green[900]},differenceValue:{color:$e.a.green[900],marginRight:e.spacing(1)}}})),bt=function(e){var t=e.className,a=Object(je.a)(e,["className"]),n=gt();return r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(n.root,t)},a),r.a.createElement(et.a,null,r.a.createElement(O.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement(O.a,{item:!0},r.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL USERS"),r.a.createElement(k.a,{color:"textPrimary",variant:"h3"},"1,600")),r.a.createElement(O.a,{item:!0},r.a.createElement(b.a,{className:n.avatar},r.a.createElement(ht.a,null)))),r.a.createElement(j.a,{mt:2,display:"flex",alignItems:"center"},r.a.createElement(pt.a,{className:n.differenceIcon}),r.a.createElement(k.a,{className:n.differenceValue,variant:"body2"},"16%"),r.a.createElement(k.a,{color:"textSecondary",variant:"caption"},"Since last month"))))},Et=a(434),vt=a.n(Et),yt=Object(S.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:$e.a.indigo[600],height:56,width:56}}})),xt=function(e){var t=e.className,a=Object(je.a)(e,["className"]),n=yt();return r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(n.root,t)},a),r.a.createElement(et.a,null,r.a.createElement(O.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement(O.a,{item:!0},r.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL PROFIT"),r.a.createElement(k.a,{color:"textPrimary",variant:"h3"},"$23,200")),r.a.createElement(O.a,{item:!0},r.a.createElement(b.a,{className:n.avatar},r.a.createElement(vt.a,null))))))},Ot=a(437),jt=a.n(Ot),wt=a(439),Ct=a.n(wt),kt=a(438),St=a.n(kt),Rt=Object(S.a)((function(){return{root:{height:"100%"}}})),Nt=function(e){var t=e.className,a=Object(je.a)(e,["className"]),n=Rt(),o=Object(Ge.a)(),i={datasets:[{data:[63,15,22],backgroundColor:[$e.a.indigo[500],$e.a.red[600],$e.a.orange[600]],borderWidth:8,borderColor:$e.a.common.white,hoverBorderColor:$e.a.common.white}],labels:["Desktop","Tablet","Mobile"]},l={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:o.palette.background.default,bodyFontColor:o.palette.text.secondary,borderColor:o.palette.divider,borderWidth:1,enabled:!0,footerFontColor:o.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:o.palette.text.primary}},c=[{title:"Desktop",value:63,icon:jt.a,color:$e.a.indigo[500]},{title:"Tablet",value:15,icon:St.a,color:$e.a.red[600]},{title:"Mobile",value:23,icon:Ct.a,color:$e.a.orange[600]}];return r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(n.root,t)},a),r.a.createElement(Ze.a,{title:"Traffic by Device"}),r.a.createElement(he.a,null),r.a.createElement(et.a,null,r.a.createElement(j.a,{height:300,position:"relative"},r.a.createElement(Qe.Doughnut,{data:i,options:l})),r.a.createElement(j.a,{display:"flex",justifyContent:"center",mt:2},c.map((function(e){var t=e.color,a=e.icon,n=e.title,o=e.value;return r.a.createElement(j.a,{key:n,p:1,textAlign:"center"},r.a.createElement(a,{color:"action"}),r.a.createElement(k.a,{color:"textPrimary",variant:"body1"},n),r.a.createElement(k.a,{style:{color:t},variant:"h2"},o,"%"))})))))},_t=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),It=function(e){var t=_t();return r.a.createElement(Je,{className:t.root,title:"Dashboard"},r.a.createElement(N.a,{maxWidth:!1},r.a.createElement(O.a,{container:!0,spacing:3},r.a.createElement(O.a,{item:!0,lg:4,sm:6,xl:4,xs:12},r.a.createElement(bt,null)),r.a.createElement(O.a,{item:!0,lg:4,sm:6,xl:4,xs:12},r.a.createElement(dt,null)),r.a.createElement(O.a,{item:!0,lg:4,sm:6,xl:4,xs:12},r.a.createElement(xt,null)),r.a.createElement(O.a,{item:!0,lg:8,md:12,xl:9,xs:12},r.a.createElement(it,e)),r.a.createElement(O.a,{item:!0,lg:4,md:6,xl:3,xs:12},r.a.createElement(Nt,null)))))},Tt=(a(256),a(126)),Pt=a(62),Wt=a(614),Bt=a(761),At=a(762),Dt=a(763),Lt=a(764),Ut=a(760),zt=a(267),Ft=a(615),qt=a(405),Mt=a(448),Yt=a(266),Ht=a(850),Kt=Object(S.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)},toolBar:{marginBottom:e.spacing(2)}}})),Vt=[{title:"Name",dataIndex:"name",render:void 0},{title:"Email",dataIndex:"email"},{title:"Chinese Class",dataIndex:"chinese_class"},{title:"HSK Level",dataIndex:"hks_level"},{title:"Ethnic Background",dataIndex:"ethnic_background"},{title:"Exam Result",render:function(){return"\u8fd9\u91cc\u5c55\u793a\u505a\u8fc7\u54ea\u4e9b\u8bd5\u5377\uff1f"}},{title:"RegisteredAt",dataIndex:"created_at",render:function(e){return re()(e).format("YYYY-MM-DD hh:mm:ss")}},{title:"Operation",dataIndex:"id",render:void 0}],Jt={getCheckboxProps:function(e){return{uid:e.id}}},Qt=function(e){var t=e.className,a=e.users,o=e.reload,i=e.history,l=Object(je.a)(e,["className","users","reload","history"]),c=Kt(),s=Object(n.useState)(""),u=Object(g.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(0),f=Object(g.a)(p,2),h=f[0],v=f[1],x=Object(n.useState)(null),O=Object(g.a)(x,2),w=O[0],C=O[1],S=Object(n.useState)([]),R=Object(g.a)(S,2),N=R[0],T=R[1],P=function(e){return function(){T(e.papers),C({uid:e.id})}},W=function(e){return function(){v(e)}};Vt[0].render=function(e){return r.a.createElement(j.a,{alignItems:"center",display:"flex"},r.a.createElement(b.a,{className:c.avatar},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}(e)),r.a.createElement(k.a,{color:"textPrimary",variant:"body1"},e))},Vt[7].render=function(e,t){return r.a.createElement(Wt.a,{size:"small"},r.a.createElement(E.a,{color:"primary",onClick:P(t),disabled:t.papers.length<=0},"review"),r.a.createElement(E.a,{color:"secondary",onClick:W(e)},"delete"))};var B=function(){v(0),C(null)},A=function(e){m(e.currentTarget.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.toolBar},r.a.createElement(j.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(E.a,{color:"primary",variant:"contained"},"Export Data")),r.a.createElement(j.a,{mt:3},r.a.createElement(Xe.a,null,r.a.createElement(et.a,null,r.a.createElement(j.a,{maxWidth:500},r.a.createElement(y.a,{fullWidth:!0,InputProps:{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Yt.a,{fontSize:"small",color:"action"},r.a.createElement(Ht.a,null)))},placeholder:"Search user",variant:"outlined",value:d,onChange:A})))))),r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(c.root,t)},l),r.a.createElement(j.a,{minWidth:1050},r.a.createElement(Tt.a,{rowKey:"id",rowSelection:Object(Pt.a)({type:"checkbox"},Jt),columns:Vt,dataSource:a.filter((function(e){return-1!==e.name.toLowerCase().search(d.toLowerCase())})),pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," Users")}}}),r.a.createElement(Ut.a,{open:!!h,onClose:B},r.a.createElement(Bt.a,null,"Are you sure to delete?"),r.a.createElement(At.a,null,r.a.createElement(Dt.a,null,"it's a dangerous move!"),r.a.createElement(Dt.a,null,"If you delete an User, then all of he's progress is wiped off too!"),r.a.createElement(Dt.a,null,"Delete Answers will only clear the user's progress...")),r.a.createElement(Lt.a,null,r.a.createElement(E.a,{onClick:function(){_.a.deleteAnswers({uid:h}).then((function(e){e.success?(I.b.warning("\ud83d\ude22 you actually deleted somebody's progress!"),B()):I.b.error(e.info)}))},color:"secondary"},"Delete Answers"),r.a.createElement(E.a,{onClick:function(){_.a.deleteUser({uid:h}).then((function(e){e.success?(I.b.warning("\ud83d\ude22 you actually deleted somebody!"),o(),B()):I.b.error(e.info)}))},color:"secondary"},"Delete User"),r.a.createElement(E.a,{onClick:B,color:"primary"},"Cancel"))),r.a.createElement(Ut.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:!!w,onClose:B},r.a.createElement(Bt.a,null,"Select Paper"),r.a.createElement(At.a,null,r.a.createElement(qt.a,{htmlFor:"demo-dialog-native"},"paper"),r.a.createElement(Mt.a,{native:!0,fullWidth:!0,value:w?w.pid:0,onChange:function(e){C({uid:w.uid,pid:e.target.value})},input:r.a.createElement(zt.a,{id:"demo-dialog-native"})},N?N.map((function(e){return r.a.createElement("option",{key:e.pid,value:e.pid},e.p_name)})):r.a.createElement("option",{"aria-label":"None",value:""}))),r.a.createElement(Lt.a,null,r.a.createElement(E.a,{onClick:function(){i.push("/admin/users/"+(w.pid||N[0].pid)+"/"+w.uid)},color:"primary"},"Ok"),r.a.createElement(E.a,{onClick:B,color:"primary"},"Cancel"))))))},Gt=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),$t=function(e){var t=Gt(),a=Object(n.useState)([]),o=Object(g.a)(a,2),i=o[0],l=o[1],c=function(){_.a.QueryUsers().then((function(e){e.success?l(e.data):I.b.error(e.info)}))};return Object(n.useEffect)((function(){c()}),[]),r.a.createElement(Je,{className:t.root,title:"Customers"},r.a.createElement(N.a,{maxWidth:!1},r.a.createElement(j.a,{mt:3,style:{minWidth:1099}},r.a.createElement(Qt,{users:i,reload:c,history:e.history}))))},Xt=a(771),Zt=Object(S.a)({root:{}}),ea={BitRate:128,SampleRate:16e3},ta=function(e){var t=e.className,a=Object(je.a)(e,["className"]),o=Zt(),i=Object(n.useState)(ea),l=Object(g.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(!1),d=Object(g.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),b=h[0],v=h[1],x=function(){v(!1)},w=function(e){s(Object(Pt.a)({},c,Object(pe.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){_.a.querySettings().then((function(e){e.success?s(e.data):I.b.error(e.info)}))}),[m]),r.a.createElement("form",Object.assign({className:Object(we.a)(o.root,t)},a),r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{subheader:"tune audio config",title:"Audio Config"}),r.a.createElement(he.a,null),r.a.createElement(et.a,null,r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:4},r.a.createElement(qt.a,null,"SampleRate"),r.a.createElement(Mt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"SampleRate",fullWidth:!0,value:c.SampleRate,onChange:w},r.a.createElement(Xt.a,{value:8e3},"8000"),r.a.createElement(Xt.a,{value:11025},"11025"),r.a.createElement(Xt.a,{value:16e3},"16000"),r.a.createElement(Xt.a,{value:22050},"22050"),r.a.createElement(Xt.a,{value:24e3},"24000"),r.a.createElement(Xt.a,{value:44100},"44100"),r.a.createElement(Xt.a,{value:48e3},"44100"),r.a.createElement(Xt.a,{value:5e4},"50000"),r.a.createElement(Xt.a,{value:96e3},"96000"))),r.a.createElement(O.a,{item:!0,xs:4}),r.a.createElement(O.a,{item:!0,xs:4},r.a.createElement(qt.a,null,"BitRate"),r.a.createElement(y.a,{name:"BitRate",type:"number",InputLabelProps:{shrink:!0},fullWidth:!0,variant:"standard",value:c.BitRate,onChange:w})))),r.a.createElement(he.a,null),r.a.createElement(j.a,{display:"flex",justifyContent:"space-between",p:2},r.a.createElement(E.a,{color:"secondary",variant:"contained",onClick:function(){v(!0)}},"Reset"),r.a.createElement(E.a,{color:"primary",variant:"contained",onClick:function(){_.a.updateSetting(c).then((function(e){e.success?(I.b.success("\ud83c\udf89 YAY, you did it! \u2728"),p((function(e){return!e}))):I.b.error(e.info)}))}},"Update"),r.a.createElement(Ut.a,{open:b,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Bt.a,{id:"alert-dialog-title"},"Do you confirm to proceed the reset?"),r.a.createElement(At.a,null,r.a.createElement(Dt.a,{id:"alert-dialog-description"},"The default value of SampleRate is 16000, BitRate is 128.")),r.a.createElement(Lt.a,null,r.a.createElement(E.a,{onClick:function(){_.a.updateSetting(ea).then((function(e){e.success?(I.b.success("\ud83c\udf89 YAY, you did it! \u2728"),p((function(e){return!e})),x()):I.b.error(e.info)}))},color:"primary"},"Ok"),r.a.createElement(E.a,{onClick:x,color:"primary"},"Cancel"))))))},aa=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),na=function(){var e=aa();return r.a.createElement(Je,{className:e.root,title:"Settings"},r.a.createElement(N.a,{maxWidth:"lg"},r.a.createElement(j.a,{mt:3},r.a.createElement(ta,null))))},ra=a(776),oa=(a(765),a(445).a.TextArea),ia=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},chip:{margin:e.spacing(.5)},input:{marginLeft:e.spacing(1),flex:1}}})),la=function(e){var t=ia(),a=Object(n.useState)(""),o=Object(g.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(0),s=Object(g.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(""),p=Object(g.a)(m,2),f=p[0],h=p[1];return r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(Ut.a,{maxWidth:"md",fullWidth:!0,open:e.open,onClose:e.onClickExit},"edit"===e.type&&r.a.createElement(Bt.a,null,"Id: ",e.data&&e.data.id||0,"; PaperName: ",e.data&&e.data.name||""),r.a.createElement(At.a,{className:t.root},r.a.createElement(O.a,{container:!0},"add"===e.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{item:!0,xs:2},r.a.createElement(qt.a,null,"Paper Name")),r.a.createElement(O.a,{item:!0,xs:10,style:{marginBottom:20}},r.a.createElement(y.a,{variant:"standard",onChange:function(e){h(e.currentTarget.value)}}))),r.a.createElement(O.a,{item:!0,xs:2},r.a.createElement(qt.a,null,"Interval (per/s)")),r.a.createElement(O.a,{item:!0,xs:10,style:{marginBottom:20}},r.a.createElement(y.a,{type:"number",variant:"standard",defaultValue:e.data&&e.data.interval,onChange:function(e){d(parseInt(e.currentTarget.value))}})),r.a.createElement(O.a,{item:!0,xs:2},r.a.createElement(qt.a,null,"Words")),r.a.createElement(O.a,{item:!0,xs:10},r.a.createElement(oa,{placeholder:"you can edit words here",autoSize:!0,defaultValue:e.data&&e.data.words,onChange:function(e){l(e.currentTarget.value)}})))),r.a.createElement(Lt.a,null,r.a.createElement(E.a,{onClick:function(){"add"===e.type?_.a.addPaper({name:f,interval:u,words:i}).then((function(t){t.success?(I.b.success("success!"),e.refreshPaper(),e.onClickExit()):I.b.error(t.info)})):_.a.editPaper(Object(Pt.a)({},e.data,{words:i,interval:u})).then((function(t){t.success?(I.b.success("updated!"),e.refreshPaper(),e.onClickExit()):I.b.error(t.info)}))},color:"primary"},"Ok"),r.a.createElement(E.a,{onClick:e.onClickExit,color:"primary"},"Cancel")))))},ca=Object(S.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),sa=[{title:"Id",dataIndex:"id",sorter:function(e,t){return e.id-t.id},sortDirections:["ascend","descend","ascend"]},{title:"CreatedAt",dataIndex:"created_at",render:function(e){return re()(e).format("YYYY-MM-DD hh:mm:ss")}},{title:"Name",render:function(e){return e.inuse?r.a.createElement("span",{style:{color:"green",fontSize:"x-large"}},e.name):r.a.createElement("span",null,e.name)}},{title:"Interval(/s)",dataIndex:"interval"},{title:"Words",dataIndex:"words",render:function(e){return e.split(RegExp("[ \t\n]+")).map((function(e,t){return r.a.createElement(ra.a,{key:t,variant:"outlined",size:"small",label:e,color:"primary"})}))}},{title:"Operation",render:void 0}],ua={getCheckboxProps:function(e){return{paper_id:e.id}}},da=function(e){var t=e.className,a=e.papers,o=e.refreshPaper,i=Object(je.a)(e,["className","papers","refreshPaper"]),l=ca(),c=Object(n.useState)({open:!1,refreshPaper:o}),s=Object(g.a)(c,2),u=s[0],d=s[1],m=function(){d({open:!1})};return sa[5].render=function(e){return r.a.createElement(Wt.a,{size:"small"},r.a.createElement(E.a,{color:"primary",onClick:(a=e,function(){d({open:!0,onClickExit:m,data:a,refreshPaper:o})})},"edit"),r.a.createElement(E.a,{color:"primary",onClick:(t=e.id,function(){_.a.publishPaper({pid:t}).then((function(e){e.success?(I.b.success("success!"),o()):I.b.error(e.info)}))})},"publish"),r.a.createElement(E.a,{color:"secondary"},"delete"));var t,a},r.a.createElement(Xe.a,Object.assign({className:Object(we.a)(l.root,t)},i),r.a.createElement(la,Object.assign({},u,{type:"edit"})),r.a.createElement(j.a,{minWidth:1050},r.a.createElement(Tt.a,{rowKey:"id",columns:sa,dataSource:a,rowSelection:Object(Pt.a)({},ua,{type:"checkbox"}),pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," Papers")}}})))},ma=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),pa=function(){var e=ma(),t=Object(n.useState)([]),a=Object(g.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)({}),c=Object(g.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(g.a)(d,2),p=m[0],f=m[1],h=function(){_.a.queryPapers().then((function(e){e.success?(i(e.data.papers),u(e.data.active_paper)):I.b.error(e.info)}))};Object(n.useEffect)(h,[]);return r.a.createElement(Je,{className:e.root,title:"Papers"},r.a.createElement(N.a,{maxWidth:!1},r.a.createElement(la,{open:p,onClickExit:function(){f(!1)},refreshPaper:h,type:"add"}),r.a.createElement(j.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(E.a,{color:"primary",variant:"contained",onClick:function(){f(!0)}},"Add New Paper")),r.a.createElement(j.a,null,r.a.createElement(k.a,{color:"textPrimary",variant:"h5"},"Active Paper: id(",s.id,"): ",s.name)),r.a.createElement(j.a,{mt:3},r.a.createElement(da,{papers:o,refreshPaper:h}))))},fa={style:{margin:8}},ha=[{title:"Word",dataIndex:"word",key:"word",render:function(e){return r.a.createElement("span",null,e)}},{title:"Translation",dataIndex:"translation",key:"translation"},{title:"Duration",dataIndex:"duration",key:"duration",render:function(e){return r.a.createElement("span",null,e/1e3,"\u79d2")}},{title:"Device",dataIndex:"device",key:"device"},{title:"Action",dataIndex:"audio_url",key:"audio_url",fixed:"right",render:function(e){return e?r.a.createElement("audio",Object.assign({controls:!0,src:"/file/"+e},fa)):""}}],ga=function(e){var t=e.location.pathname.split("/"),a={uid:parseInt(t.pop()),paper_id:parseInt(t.pop())||1},o=Object(n.useState)([]),i=Object(g.a)(o,2),l=i[0],c=i[1];return Object(n.useEffect)((function(){_.a.QueryAnswers(a).then((function(e){e.success?c(e.data):I.b.error(e.info)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt.a,{rowKey:"id",columns:ha,dataSource:l,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," Answers")}}}))},ba=128,Ea=16e3,va=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],i=a[1],l=L()({type:"mp3",bitRate:ba,sampleRate:Ea,disableEnvInFix:!1});return Object(n.useEffect)((function(){console.log("\u6b63\u5728\u6253\u5f00\u5f55\u97f3\uff0c\u8bf7\u6c42\u9ea6\u514b\u98ce\u6743\u9650...",e),l.open((function(){console.log("\u5df2\u6253\u5f00\u5f55\u97f3\uff0c\u53ef\u4ee5\u70b9\u51fb\u5f00\u59cb\u4e86"),l.close(),i(!0)}),(function(e,t){console.log((t?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+e)}))}),[]),r.a.createElement(N.a,{maxWidth:"xs"},r.a.createElement(k.a,{component:"h1",variant:"h5"},"Instructions:"),r.a.createElement(k.a,{component:"span",variant:"body1"},"Please enable recording permission"),r.a.createElement(E.a,{fullWidth:!0,disabled:!o,variant:"outlined",onClick:function(){e.history.push("/examination")}},"Agree And Proceed"))},ya=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,855))})),xa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.d,null,r.a.createElement(h.a,{exact:!0,from:"/",to:"/info"}),r.a.createElement(h.b,{path:"/info"},r.a.createElement(B,this.props)),r.a.createElement(h.b,{path:"/instruction"},r.a.createElement(va,this.props)),r.a.createElement(h.b,{path:"/examination",component:de}),r.a.createElement(h.b,{path:"/finish",component:me}),r.a.createElement(h.a,{exact:!0,from:"/admin",to:"/admin/login"}),r.a.createElement(h.b,{path:"/admin/login",component:ya}),r.a.createElement(h.b,{path:"/admin/dashboard"},r.a.createElement(Ke,Object.assign({components:It},this.props))),r.a.createElement(h.b,{path:"/admin/users",exact:!0},r.a.createElement(Ke,Object.assign({components:$t},this.props))),r.a.createElement(h.b,{path:"/admin/users/:paper_id/:uid"},r.a.createElement(Ke,Object.assign({components:ga},this.props))),r.a.createElement(h.b,{path:"/admin/papers"},r.a.createElement(Ke,Object.assign({components:pa},this.props))),r.a.createElement(h.b,{path:"/admin/settings"},r.a.createElement(Ke,Object.assign({components:na},this.props)))))}}]),a}(r.a.Component),Oa=(a(464),Object(d.a)()),ja=new p.RouterStore,wa=Object(p.syncHistoryWithStore)(Oa,ja),Ca=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(v.a,null),r.a.createElement(I.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(m.a,f,r.a.createElement(h.c,{history:wa},r.a.createElement(h.b,{component:xa}))))}}]),a}(r.a.Component);i.a.render(r.a.createElement(Ca,null),document.getElementById("root"))}},[[457,1,2]]]);
//# sourceMappingURL=main.e34be2c3.chunk.js.map