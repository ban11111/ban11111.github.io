{"version":3,"sources":["containers/admin/login/index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","light","form","width","submit","Login","props","classes","useState","username","password","loginInfo","setLoginInfo","onEdit","l","e","newUserInfo","currentTarget","value","component","maxWidth","className","variant","container","item","xs","required","fullWidth","id","label","name","autoComplete","onChange","type","color","onClick","api","adminLogin","then","res","success","history","push","toast","error","info"],"mappings":"wPAcMA,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,MAAO,CACLC,UAAWH,EAAMI,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQT,EAAMI,QAAQ,GACtBM,gBAAiBV,EAAMW,QAAQC,QAAQC,OAEzCC,KAAM,CACJC,MAAO,OACPZ,UAAWH,EAAMI,QAAQ,IAE3BY,OAAQ,CACNP,OAAQT,EAAMI,QAAQ,EAAG,EAAG,SA4FnBa,UAhFD,SAACC,GACb,IAAMC,EAAUrB,IADY,EAEMsB,mBAAS,CACzCC,SAAU,GACVC,SAAU,KAJgB,mBAErBC,EAFqB,KAEVC,EAFU,KAOtBC,EAAS,SAACC,GAAD,OAAc,SAACC,GAC5B,IAAMC,EAAyBL,EAC/BK,EAAYF,GAAKC,EAAEE,cAAcC,MACjCN,EAAaI,KAaf,OACE,kBAAC,IAAD,CAAWG,UAAU,OAAOC,SAAS,MACnC,kBAAC,IAAD,MACA,yBAAKC,UAAWd,EAAQjB,OACtB,kBAAC,IAAD,CAAQ+B,UAAWd,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYuB,UAAU,KAAKG,QAAQ,MAAnC,eAGA,kBAAC,IAAD,CAAKD,UAAWd,EAAQL,MACtB,kBAAC,IAAD,CAAMqB,WAAS,EAAC/B,QAAS,GACvB,kBAAC,IAAD,CAAMgC,MAAI,EAACC,GAAI,IACb,kBAAC,IAAD,CACEH,QAAQ,WACRI,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,WACNC,KAAK,WACLC,aAAa,WACbC,SAAUnB,EAAO,aAEhBF,EAAUF,WAGf,kBAAC,IAAD,CAAMe,MAAI,EAACC,GAAI,IACb,kBAAC,IAAD,CACEH,QAAQ,WACRI,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,WACNC,KAAK,WACLC,aAAa,WACbC,SAAUnB,EAAO,aAEhBF,EAAUF,YAIjB,kBAAC,IAAD,CACEwB,KAAK,SACLN,WAAS,EACTL,QAAQ,YACRY,MAAM,UACNb,UAAWd,EAAQH,OACnB+B,QAzDI,WACZC,IAAIC,WAAW1B,GAAW2B,MAAK,SAAAC,GACxBA,EAAIC,QAGPlC,EAAMmC,QAAQC,KAAK,oBAFnBC,IAAMC,MAAM,eAAOL,EAAIM,WAgDrB","file":"static/js/3.5748f02a.chunk.js","sourcesContent":["import React, { ChangeEvent, useState } from 'react'\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport HeadsetMicOutlinedIcon from '@material-ui/icons/HeadsetMicOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport api from 'api'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.light\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(3)\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2)\r\n    }\r\n  })\r\n)\r\n\r\ninterface LoginInfo {\r\n  username: string\r\n  password: string\r\n}\r\n\r\ntype label = 'username' | 'password'\r\n\r\nconst Login = (props: any) => {\r\n  const classes = useStyles()\r\n  const [loginInfo, setLoginInfo] = useState({\r\n    username: '',\r\n    password: ''\r\n  })\r\n\r\n  const onEdit = (l: label) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    const newUserInfo: LoginInfo = loginInfo\r\n    newUserInfo[l] = e.currentTarget.value\r\n    setLoginInfo(newUserInfo)\r\n  }\r\n\r\n  const login = () => {\r\n    api.adminLogin(loginInfo).then(res => {\r\n      if (!res.success) {\r\n        toast.error('ðŸš€' + res.info)\r\n      } else {\r\n        props.history.push('/admin/dashboard')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <HeadsetMicOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Admin Login\r\n        </Typography>\r\n        <Box className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={onEdit('username')}\r\n              >\r\n                {loginInfo.username}\r\n              </TextField>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"password\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                autoComplete=\"password\"\r\n                onChange={onEdit('password')}\r\n              >\r\n                {loginInfo.username}\r\n              </TextField>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={login}\r\n          >\r\n            login\r\n          </Button>\r\n        </Box>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"sourceRoot":""}